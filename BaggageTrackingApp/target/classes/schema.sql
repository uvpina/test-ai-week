-- Create TBAG table
CREATE TABLE TBAG
(
    BT_SERIAL_NR           INTEGER       NOT NULL,
    BT_AIRLINE_CODE_NR     SMALLINT      NOT NULL,
    ONINTER_PREFIX         SMALLINT      NOT NULL,
    DUPLICATE_NR           SMALLINT      NOT NULL,
    FLIGHT_NR              SMALLINT      NOT NULL,
    AIRLINE_CODE_NR        SMALLINT      NOT NULL,
    SUFFIX                 CHAR(1)       NOT NULL,
    FLIGHT_DEP_DATE        DATE          NOT NULL,
    LEG_NR                 SMALLINT      NOT NULL,
    LEG_DEP_DATE           DATE          NOT NULL,
    LEG_ORIGIN             CHAR(5)       NOT NULL,
    BAG_LEG_SEQ_NR         SMALLINT      NOT NULL,
    LOAD_DEVICE            CHAR(11)      NOT NULL,
    BAG_STATUS             SMALLINT      NOT NULL,
    BAG_FLAG               BIGINT,
    BAG_POSITION           SMALLINT,
    BAG_CHARACTERISTIC     CHAR(2),
    CLASS_OF_TRAVEL        CHAR(1),
    DESTINATION            CHAR(5),
    SURNAME                CHAR(64),
    GROUP_NAME             CHAR(20),
    SEAT                   CHAR(3),
    PAX_STATUS             CHAR(3),
    SEQUENCE_NR            SMALLINT,
    SECURITY_NR            SMALLINT,
    SECURITY_SCREENING     CHAR(60),
    FREQ_TRAVELLER_ID      CHAR(30),
    IB_AIRL_DSGNTR         CHAR(3),
    IB_FLIGHT_NR           SMALLINT,
    IB_SUFFIX              CHAR(1),
    IB_DEPARTURE_DATE      DATE,
    IB_ORIGIN              CHAR(5),
    OW_AIRL_DSGNTR         CHAR(3),
    OW_FLIGHT_NR           SMALLINT,
    OW_SUFFIX              CHAR(1),
    OW_DEPARTURE_DATE      DATE,
    OW_DESTINATION         CHAR(5),
    CS_AIRL_DSGNTR         CHAR(3),
    CS_FLIGHT_NR           SMALLINT,
    CS_SUFFIX              CHAR(1),
    PNR_ADDRESS            CHAR(6),
    FREE_TEXT              CHAR(64),
    TIME_BSM_RECEIVED      TIMESTAMP,
    TIME_BAG_LOADED        TIMESTAMP,
    BAG_WEIGHT             REAL,
    OW_AIRL_DSGNTR2        CHAR(3),
    OW_FLIGHT_NR2          SMALLINT,
    OW_SUFFIX2             CHAR(1),
    OW_DEPARTURE_DATE2     DATE,
    OW_DESTINATION2        CHAR(5),
    MAPPED_CLASS_OF_TRAVEL CHAR(1) DEFAULT '',
    AUTHORITY_TO_LOAD      CHAR(1),
    PAX_PROFILE            CHAR(1),
    AUTHORITY_TO_TRANSPORT CHAR(1),
    BAG_TAG_STATUS         CHAR(1),
    EXCEPTION_TYPES        VARCHAR(450),
    SPECIAL_INSTRUCTIONS   VARCHAR(255),
    LAST_KNOWN_LOCATION    VARCHAR(100),
    LAST_KNOWN_LOCATION_DESC VARCHAR(500),
    LAST_KNOWN_TIMESTAMP_UTC TIMESTAMP,
    BAG_ALERTS             INTEGER,
    UNIT_POSITION          CHAR(5),
    LOADED_STATUS          INTEGER,
    COMMODITY_TYPE         VARCHAR(5) DEFAULT '*',
    PRIMARY KEY (
        BT_SERIAL_NR, BT_AIRLINE_CODE_NR, ONINTER_PREFIX,
        DUPLICATE_NR, FLIGHT_NR, AIRLINE_CODE_NR,
        SUFFIX, FLIGHT_DEP_DATE, LEG_NR
    )
);

-- Create TFLIGHT table
CREATE TABLE TFLIGHT
(
    FLIGHT_NR              SMALLINT      NOT NULL,
    AIRLINE_CODE_NR        SMALLINT      NOT NULL,
    SUFFIX                 CHAR(1)       NOT NULL,
    FLIGHT_DEP_DATE        DATE          NOT NULL,
    LEG_NR                 SMALLINT      NOT NULL,
    LEG_DEP_DATE           DATE          NOT NULL,
    NR_LEGS                SMALLINT,
    FLIGHT_ORIGIN          CHAR(5),
    FLIGHT_DESTINATION     CHAR(5),
    LEG_ORIGIN             CHAR(5) NOT NULL,
    LEG_DESTINATION        CHAR(5),
    LOAD_STRATEGY          CHAR(3) NOT NULL,
    FLIGHT_STATUS          SMALLINT,
    EMERGENCY_STATUS       SMALLINT,
    UNTAGGED_CREW_BAGS     SMALLINT,
    IS_FALLBACK_MODE       CHAR(1) DEFAULT 'N',
    AIRCRAFT_TYPE          CHAR(1),
    FMM_RECV_TIMESTAMP     TIMESTAMP,
    FLIGHT_FLAG            INTEGER,
    SCHEDULE_TIME          TIMESTAMP,
    ESTIMATED_TIME         TIMESTAMP,
    ACTUAL_TIME            TIMESTAMP,
    GATE                   CHAR(5),
    STAND                  CHAR(5),
    TERMINAL               CHAR(12),
    FIDS_AIRCRAFT_TYPE     VARCHAR(5),
    AIRCRAFT_REGISTRATION  CHAR(12),
    BEST_DEPARTURE_TIME_UTC TIMESTAMP,
    PRIMARY KEY (
        FLIGHT_NR, AIRLINE_CODE_NR, SUFFIX,
        FLIGHT_DEP_DATE, LEG_NR
    )
); 